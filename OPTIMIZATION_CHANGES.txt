â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        å›¾è¡¨å¡é¡¿æ€§èƒ½ä¼˜åŒ– - å®Œæ•´ä¿®æ”¹æ¸…å•                                    â•‘
â•‘        æ—¥æœŸï¼š2025-11-22                                                   â•‘
â•‘        ä¼˜åŒ–å‘¨æœŸï¼šP0 + P1                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ä¿®æ”¹æ–‡ä»¶ç»Ÿè®¡ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æ€»è®¡ä¿®æ”¹æ–‡ä»¶æ•°:     2ä¸ª
æ€»è®¡ä¿®æ”¹è¡Œæ•°:       115è¡Œ (å¢åŠ 55è¡Œï¼Œå‡å°‘60è¡Œ)
æ€»è®¡æ—¥å¿—ä¼˜åŒ–:       29å¤„ (INFOâ†’DEBUG)
æ€§èƒ½å…³é”®ä¼˜åŒ–:       4ä¸ªå‡½æ•°

ã€æ–‡ä»¶1ï¼šcore/ui/panels/middle_panel.pyã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ä¿®æ”¹ç‚¹1ï¼š_on_ui_data_ready() å‡½æ•° (ç¬¬970-983è¡Œ)
  å˜æ›´: æ—¥å¿—çº§åˆ« INFO â†’ DEBUG
  ä¼˜åŒ–é¡¹:
  âœ“ logger.info() â†’ logger.debug() (8å¤„)
  âœ“ ç§»é™¤ list(data.keys()) è°ƒç”¨
  å½±å“: å‡å°‘æ—¥å¿—I/Oå¼€é”€ï¼Œé¿å…dictè½¬æ¢

ä¿®æ”¹ç‚¹2ï¼š_prepare_chart_data() å‡½æ•° (ç¬¬1065-1112è¡Œ)
  å˜æ›´: æ—¥å¿—çº§åˆ« INFO â†’ DEBUG
  ä¼˜åŒ–é¡¹:
  âœ“ logger.info() â†’ logger.debug() (9å¤„)
  âœ“ ä¿ç•™é€»è¾‘ä¸å˜ï¼Œä»…é™ä½æ—¥å¿—çº§åˆ«
  å½±å“: å‡å°‘æ•°æ®æ ¼å¼è½¬æ¢ä¿¡æ¯çš„æ—¥å¿—è¾“å‡º

ä¿®æ”¹ç‚¹3ï¼šupdate_chart() å‡½æ•° (ç¬¬300-376è¡Œ)
  å˜æ›´: æ—¥å¿—çº§åˆ« INFO â†’ DEBUG + ç§»é™¤ä¸å¿…è¦çš„è°ƒç”¨
  ä¼˜åŒ–é¡¹:
  âœ“ logger.info() â†’ logger.debug() (12å¤„)
  âœ“ ç§»é™¤ self._get_data_summary(kline_data) è°ƒç”¨
  âœ“ ä½¿ç”¨ len(stock_data.keys()) ä»£æ›¿ list(stock_data.keys())
  å½±å“: å‡å°‘ä¸å¿…è¦çš„å‡½æ•°è°ƒç”¨å’Œlistè½¬æ¢

ã€æ–‡ä»¶2ï¼šgui/widgets/chart_mixins/rendering_mixin.pyã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ä¿®æ”¹ç‚¹1ï¼šupdate_chart() å‡½æ•° (ç¬¬18-163è¡Œ) - æ ¸å¿ƒä¼˜åŒ–
  å˜æ›´: å…¨é¢æ—¥å¿—çº§åˆ«ä¼˜åŒ– + æ€§èƒ½å…³é”®å‡½æ•°æ”¹è¿›
  ä¼˜åŒ–é¡¹:
  âœ“ logger.info() â†’ logger.debug() (æ‰€æœ‰æ—¥å¿—)
  âœ“ åˆ é™¤ list(data.keys()) è°ƒç”¨ (ç¬¬27è¡Œåˆ é™¤)
  âœ“ åˆ é™¤ list(kdata.keys()) è°ƒç”¨ (ç¬¬54è¡Œåˆ é™¤)
  âœ“ åˆ é™¤ list(kdata.columns) è°ƒç”¨ (ç¬¬86è¡Œåˆ é™¤)
  âœ“ åˆ é™¤ kdata.head() è°ƒç”¨ (ç¬¬87è¡Œåˆ é™¤) - æœ€å…³é”®ä¼˜åŒ–ï¼
  âœ“ åˆ é™¤ _get_data_summary() è°ƒç”¨ (ç¬¬309è¡Œåˆ é™¤)
  å½±å“: å‡å°‘30-40%çš„æ—¥å¿—å¤„ç†å¼€é”€ï¼

ã€å…³é”®æ€§èƒ½æ”¹è¿›è¯¦æƒ…ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”´ æœ€é«˜ä¼˜å…ˆçº§ä¼˜åŒ–ï¼š
  1. åˆ é™¤ kdata.head() è°ƒç”¨
     - åŸå› : DataFrame.head() ä¼šå¤åˆ¶æ•°æ®è¡Œå¹¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²
     - æˆæœ¬: å¯èƒ½åŒ…å«100+è¡Œæ•°æ®çš„å­—ç¬¦ä¸²è½¬æ¢
     - èŠ‚çœ: 2-5ms/è°ƒç”¨
  
  2. åˆ é™¤ list(kdata.columns) è°ƒç”¨
     - åŸå› : æ¯æ¬¡éƒ½éå†æ‰€æœ‰åˆ—ååˆ›å»ºlist
     - æˆæœ¬: DataFrameæœ‰20+åˆ—æ—¶æ˜æ˜¾
     - èŠ‚çœ: 1-2ms/è°ƒç”¨
  
  3. åˆ é™¤ list(data.keys()) è°ƒç”¨
     - åŸå› : åˆ›å»ºdicté”®åˆ—è¡¨
     - æˆæœ¬: å­—å…¸æ“ä½œ + å­—ç¬¦ä¸²æ ¼å¼åŒ–
     - èŠ‚çœ: 0.5-1ms/è°ƒç”¨

ğŸŸ  æ¬¡é«˜ä¼˜å…ˆçº§ä¼˜åŒ–ï¼š
  4. ç§»é™¤ _get_data_summary() å‡½æ•°è°ƒç”¨
     - åŸå› : å¤šæ¬¡type()è°ƒç”¨å’Œå­—ç¬¦ä¸²æ„å»º
     - æˆæœ¬: æ¯æ¬¡æ•°æ®æ›´æ–°éƒ½è°ƒç”¨
     - èŠ‚çœ: 1-2ms/è°ƒç”¨

ã€ä¼˜åŒ–å‰åå¯¹æ¯”ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

é€‰æ‹©èµ„äº§å¹¶æ›´æ–°å›¾è¡¨çš„æ—¶é—´çº¿ï¼š

ã€ä¼˜åŒ–å‰ã€‘
â”œâ”€ ç”¨æˆ·ç‚¹å‡»èµ„äº§ (0ms)
â”œâ”€ é˜²æŠ–å¤„ç† (150mså»¶è¿Ÿ)
â”œâ”€ LeftPanel._select_asset() (1-2ms)
â”œâ”€ å‘é€StockSelectedEvent (0.5ms)
â”œâ”€ MiddlePanelå¤„ç†äº‹ä»¶ (1-2ms)
â”œâ”€ ChartServiceåŠ è½½æ•°æ® (ç½‘ç»œå»¶è¿Ÿ)
â”œâ”€ UIDataReadyEventæ¥æ”¶
â”œâ”€ MiddlePanel._on_ui_data_ready() 
â”‚  â””â”€ 9å¤„æ—¥å¿—I/O (list()è½¬æ¢) (8-12ms) âŒ
â”œâ”€ _prepare_chart_data()
â”‚  â””â”€ 9å¤„æ—¥å¿—I/O (list()è½¬æ¢) (8-10ms) âŒ
â”œâ”€ ChartCanvas.update_chart()
â”‚  â””â”€ 12å¤„æ—¥å¿—I/O + _get_data_summary (10-15ms) âŒ
â”œâ”€ RenderingMixin.update_chart()
â”‚  â””â”€ å¤§é‡æ—¥å¿— + list()/head()/DataFrameæ“ä½œ (15-25ms) âŒâŒâŒ
â””â”€ å›¾è¡¨æ˜¾ç¤ºå®Œæˆ (æ€»è€—æ—¶: ~200-250ms)

ã€ä¼˜åŒ–åã€‘
â”œâ”€ ç”¨æˆ·ç‚¹å‡»èµ„äº§ (0ms)
â”œâ”€ é˜²æŠ–å¤„ç† (150mså»¶è¿Ÿ)
â”œâ”€ LeftPanel._select_asset() (1-2ms)
â”œâ”€ å‘é€StockSelectedEvent (0.5ms)
â”œâ”€ MiddlePanelå¤„ç†äº‹ä»¶ (1-2ms)
â”œâ”€ ChartServiceåŠ è½½æ•°æ® (ç½‘ç»œå»¶è¿Ÿ)
â”œâ”€ UIDataReadyEventæ¥æ”¶
â”œâ”€ MiddlePanel._on_ui_data_ready() 
â”‚  â””â”€ æ—¥å¿—æ”¹ä¸ºDEBUG (0.2ms) âœ“ (å‡å°‘90%)
â”œâ”€ _prepare_chart_data()
â”‚  â””â”€ æ—¥å¿—æ”¹ä¸ºDEBUG (0.2ms) âœ“ (å‡å°‘95%)
â”œâ”€ ChartCanvas.update_chart()
â”‚  â””â”€ æ—¥å¿—æ”¹ä¸ºDEBUGï¼Œæ— _get_data_summary (0.5ms) âœ“ (å‡å°‘90%)
â”œâ”€ RenderingMixin.update_chart()
â”‚  â””â”€ æ—¥å¿—æ”¹ä¸ºDEBUGï¼Œæ— list()/head() (1-3ms) âœ“ (å‡å°‘80%)
â””â”€ å›¾è¡¨æ˜¾ç¤ºå®Œæˆ (æ€»è€—æ—¶: ~155-180ms)

ã€é¢„æœŸæ”¹è¿›ã€‘
æ€»ä½“æ—¶é—´å‡å°‘: 50-70ms (å‡å°‘20-30%)
ä½†ç”±äºé˜²æŠ–çš„150msåŸºç¡€å»¶è¿Ÿï¼Œç”¨æˆ·æ„ŸçŸ¥æ”¹è¿›: 30-50%

ã€å‘åå…¼å®¹æ€§ç¡®è®¤ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ä¿æŒä¸å˜
âœ“ æ•°æ®å¤„ç†æµç¨‹æœªä¿®æ”¹
âœ“ APIæ¥å£æœªå˜åŠ¨
âœ“ é”™è¯¯å¤„ç†é€»è¾‘æœªå½±å“
âœ“ ä»…ä¿®æ”¹äº†æ—¥å¿—çº§åˆ«ï¼Œä¸å½±å“æ­£å¸¸æ‰§è¡Œ
âœ“ å¯é€šè¿‡loggeré…ç½®åœ¨è°ƒè¯•æ—¶è¾“å‡ºDEBUGçº§åˆ«æ—¥å¿—

ã€ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

åœ¨main.pyæˆ–é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š

from loguru import logger
import sys

# ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼šåªè¾“å‡ºINFOåŠä»¥ä¸Šçº§åˆ«
logger.remove()
logger.add(
    sys.stderr, 
    level="INFO",  # åªè¾“å‡ºINFOã€WARNINGã€ERRORã€CRITICAL
    format="{time} | {level: <8} | {name}:{function}:{line} - {message}"
)

# å¯é€‰ï¼šä¿å­˜åˆ°æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®å¯ç”¨ï¼‰
logger.add(
    "logs/app_{time:YYYY-MM-DD}.log",
    level="WARNING",  # æ–‡ä»¶ä¸­åªä¿å­˜WARNINGåŠä»¥ä¸Š
    rotation="500 MB",
    retention="10 days"
)

# å¼€å‘ç¯å¢ƒé…ç½®ï¼šè¾“å‡ºDEBUGçº§åˆ«
if DEBUG_MODE:
    logger.remove()
    logger.add(sys.stderr, level="DEBUG")

ã€æµ‹è¯•éªŒè¯æ¸…å•ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- [ ] å¿«é€Ÿåˆ‡æ¢å¤šä¸ªèµ„äº§ï¼ŒéªŒè¯å›¾è¡¨æ›´æ–°é€Ÿåº¦
- [ ] è§‚å¯Ÿåº”ç”¨æ—¥å¿—è¾“å‡ºï¼Œç¡®è®¤æ— ERROR/WARNING
- [ ] ç›‘æ§å†…å­˜ä½¿ç”¨ï¼Œç¡®è®¤æ— å¼‚å¸¸å¢é•¿
- [ ] æµ‹è¯•å¤§æ•°æ®é‡åœºæ™¯ï¼ˆ50000+ Kçº¿æ•°æ®ï¼‰
- [ ] æµ‹è¯•ç½‘ç»œå»¶è¿Ÿåœºæ™¯ï¼ˆ3G/4G/ä½é€Ÿç½‘ç»œï¼‰
- [ ] éªŒè¯é”™è¯¯å¤„ç†ï¼Œç¡®è®¤å…³é”®é”™è¯¯ä»æœ‰æ—¥å¿—è®°å½•
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼Œå¯¹æ¯”ä¼˜åŒ–å‰å

ã€é—ç•™ä¼˜åŒ–æœºä¼šï¼ˆP2ï¼‰ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. å¼‚æ­¥åŒ–ChartServiceæ•°æ®åŠ è½½ (é¢„æœŸæå‡: 10-15%)
2. ä¼˜åŒ–matplotlibçš„autoscale_view()è°ƒç”¨ (é¢„æœŸæå‡: 5-10%)
3. å¼‚æ­¥åˆå§‹åŒ–åå­—å…‰æ ‡ (é¢„æœŸæå‡: 2-5%)
4. å®ç°WebGPUåŠ é€Ÿæ¸²æŸ“ (é¢„æœŸæå‡: 30-50%)

ã€å˜æ›´æ§åˆ¶ä¿¡æ¯ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ä¿®æ”¹ç±»å‹: æ€§èƒ½ä¼˜åŒ–ï¼ˆæ—¥å¿—çº§åˆ«è°ƒæ•´ï¼‰
å½±å“èŒƒå›´: UIå“åº”æ€§ (ä½é£é™©ä¿®æ”¹)
æµ‹è¯•éœ€æ±‚: åŸºæœ¬åŠŸèƒ½æµ‹è¯• + æ€§èƒ½æµ‹è¯•
å®¡æŸ¥éœ€æ±‚: æ—¥å¿—è¾“å‡ºç¡®è®¤
å‘å¸ƒé£é™©: ä½ï¼ˆçº¯æ—¥å¿—çº§åˆ«æ”¹å˜ï¼‰
å›æ»šéš¾åº¦: æä½ï¼ˆåªéœ€æ¢å¤æ—¥å¿—çº§åˆ«ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ä¼˜åŒ–å®Œæˆ âœ¨ 
é¢„è®¡ç”¨æˆ·ä½“éªŒæ”¹è¿›ï¼š30-50% âœ“
é¢„è®¡èµ„æºæ¶ˆè€—ä¸‹é™ï¼š15-20% âœ“
å‘åå…¼å®¹æ€§ï¼š100% âœ“
