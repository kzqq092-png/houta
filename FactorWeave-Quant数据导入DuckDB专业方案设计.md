# FactorWeave-Quant æ•°æ®å¯¼å…¥DuckDBä¸“ä¸šæ–¹æ¡ˆè®¾è®¡

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**ç›®æ ‡**: è®¾è®¡å¹¶å®ç°å¯¹æ ‡Bloomberg Terminalå’ŒWindä¸‡å¾—çš„ä¸“ä¸šçº§æ•°æ®å¯¼å…¥DuckDBç³»ç»Ÿï¼Œæ”¯æŒè‚¡ç¥¨ã€è´¢åŠ¡æ•°æ®ç­‰å…¨å“ç§é‡‘èæ•°æ®çš„å®æ—¶å¯¼å…¥ã€å­˜å‚¨å’Œç®¡ç†ã€‚

**è®¾è®¡ç†å¿µ**: ç°ä»£åŒ–ä¸“ä¸šç•Œé¢ + Bloombergçº§åŠŸèƒ½æ·±åº¦ + Windä¸‡å¾—æ•°æ®è¦†ç›–å¹¿åº¦

---

## ğŸ¯ å¯¹æ ‡åˆ†æ

### Bloomberg Terminal æ ¸å¿ƒç‰¹æ€§
- âœ… **å¤šå±æ˜¾ç¤ºæ”¯æŒ**: 2-6ä¸ªæ˜¾ç¤ºå™¨çš„ä¸“ä¸šå¸ƒå±€
- âœ… **å®æ—¶æ•°æ®æµ**: æ¯«ç§’çº§æ•°æ®æ›´æ–°
- âœ… **ä¸“ä¸šé”®ç›˜**: å½©è‰²åŠŸèƒ½é”®æå‡æ“ä½œæ•ˆç‡
- âœ… **ç¤¾äº¤ç½‘ç»œ**: BBGèŠå¤©ç³»ç»Ÿ
- âœ… **24/7æ”¯æŒ**: å®æ—¶å®¢æœæ”¯æŒ
- âœ… **é»‘åº•é»„å­—**: ä¸“ä¸šè§†è§‰æ ‡è¯†ï¼ˆè™½ç„¶å¤æ‚ä½†ä½“ç°ä¸“ä¸šæ€§ï¼‰

### Windä¸‡å¾— æ ¸å¿ƒç‰¹æ€§
- âœ… **å…¨çƒå¸‚åœºè¦†ç›–**: 40+äº¤æ˜“æ‰€æ•°æ®
- âœ… **å…¨å“ç§æ”¯æŒ**: è‚¡ç¥¨ã€å€ºåˆ¸ã€æœŸè´§ã€å¤–æ±‡ã€åŸºé‡‘ã€å®è§‚
- âœ… **æµ·é‡æŒ‡æ ‡**: 800ä¸‡+å®è§‚ç»æµæŒ‡æ ‡
- âœ… **Excelé›†æˆ**: å¼ºå¤§çš„Excelæ’ä»¶
- âœ… **APIæ¥å£**: Client APIæ”¯æŒ
- âœ… **ç§»åŠ¨ç«¯**: å…¨å¹³å°æ”¯æŒ

### ç°ä»£åŒ–æ”¹è¿›æ–¹å‘
- ğŸš€ **æ›´å¥½çš„è§†è§‰è®¾è®¡**: å‚è€ƒThomson Reuters Eikon
- ğŸš€ **å“åº”å¼å¸ƒå±€**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- ğŸš€ **ä¸ªæ€§åŒ–å®šåˆ¶**: ç”¨æˆ·è‡ªå®šä¹‰ç•Œé¢
- ğŸš€ **æ•°æ®å¯è§†åŒ–**: ç°ä»£åŒ–å›¾è¡¨å’Œä»ªè¡¨æ¿
- ğŸš€ **ç›´è§‚å¯¼èˆª**: ç®€åŒ–å¤æ‚æ“ä½œæµç¨‹

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1. æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚ (UI Layer)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ•°æ®æºç®¡ç†     â”‚   å¯¼å…¥å‘å¯¼      â”‚     å®æ—¶ç›‘æ§ä»ªè¡¨æ¿        â”‚
â”‚   Data Sources   â”‚   Import Wizard â”‚   Real-time Dashboard   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡é€»è¾‘å±‚ (Business Layer)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ•°æ®å¯¼å…¥å¼•æ“   â”‚   è´¨é‡ç›‘æ§      â”‚     å­˜å‚¨è·¯ç”±å™¨           â”‚
â”‚   Import Engine  â”‚   Quality Mon   â”‚   Storage Router        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®å­˜å‚¨å±‚ (Storage Layer)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   SQLite        â”‚   DuckDB        â”‚     ç¼“å­˜ç³»ç»Ÿ             â”‚
â”‚   (å®æ—¶/é…ç½®)    â”‚   (å†å²/åˆ†æ)    â”‚   (Multi-Level Cache)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ ¸å¿ƒç»„ä»¶è®¾è®¡

#### 2.1 æ•°æ®æºç®¡ç†å™¨ (DataSourceManager)
```python
class DataSourceManager:
    """ä¸“ä¸šçº§æ•°æ®æºç®¡ç†å™¨ - å¯¹æ ‡Windä¸‡å¾—"""
    
    æ”¯æŒçš„æ•°æ®æºç±»å‹:
    â”œâ”€â”€ è‚¡ç¥¨æ•°æ®
    â”‚   â”œâ”€â”€ æ²ªæ·±Aè‚¡ (ä¸Šäº¤æ‰€ã€æ·±äº¤æ‰€)
    â”‚   â”œâ”€â”€ æ¸¯è‚¡ (æ¸¯äº¤æ‰€)
    â”‚   â”œâ”€â”€ ç¾è‚¡ (NYSEã€NASDAQ)
    â”‚   â””â”€â”€ å…¶ä»–å›½é™…å¸‚åœº (40+äº¤æ˜“æ‰€)
    â”œâ”€â”€ å€ºåˆ¸æ•°æ®
    â”‚   â”œâ”€â”€ å›½å€ºã€ä¼ä¸šå€ºã€å¯è½¬å€º
    â”‚   â”œâ”€â”€ é“¶è¡Œé—´ã€äº¤æ˜“æ‰€å€ºåˆ¸
    â”‚   â””â”€â”€ æµ·å¤–å€ºåˆ¸å¸‚åœº
    â”œâ”€â”€ æœŸè´§æ•°æ®
    â”‚   â”œâ”€â”€ å•†å“æœŸè´§ (é‡‘å±ã€èƒ½æºã€å†œäº§å“)
    â”‚   â”œâ”€â”€ é‡‘èæœŸè´§ (è‚¡æŒ‡ã€å›½å€ºæœŸè´§)
    â”‚   â””â”€â”€ å›½é™…æœŸè´§å¸‚åœº
    â”œâ”€â”€ å¤–æ±‡æ•°æ®
    â”‚   â”œâ”€â”€ ä¸»è¦è´§å¸å¯¹
    â”‚   â”œâ”€â”€ äººæ°‘å¸æ±‡ç‡
    â”‚   â””â”€â”€ æ•°å­—è´§å¸
    â”œâ”€â”€ åŸºé‡‘æ•°æ®
    â”‚   â”œâ”€â”€ å…¬å‹ŸåŸºé‡‘ã€ç§å‹ŸåŸºé‡‘
    â”‚   â”œâ”€â”€ ETFã€LOFåŸºé‡‘
    â”‚   â””â”€â”€ æµ·å¤–åŸºé‡‘
    â””â”€â”€ å®è§‚æ•°æ®
        â”œâ”€â”€ ç»æµæŒ‡æ ‡ (GDPã€CPIã€PMIç­‰)
        â”œâ”€â”€ è¡Œä¸šæ•°æ® (21ä¸ªå¤§ç±»è¡Œä¸š)
        â””â”€â”€ æ”¿ç­–æ•°æ® (å¤®è¡Œã€è´¢æ”¿æ”¿ç­–)
```

#### 2.2 æ•°æ®å¯¼å…¥å¼•æ“ (DataImportEngine)
```python
class DataImportEngine:
    """é«˜æ€§èƒ½æ•°æ®å¯¼å…¥å¼•æ“ - å¯¹æ ‡Bloombergå®æ—¶æ€§"""
    
    å¯¼å…¥æ¨¡å¼:
    â”œâ”€â”€ å®æ—¶å¯¼å…¥ (Real-time Import)
    â”‚   â”œâ”€â”€ WebSocketè¿æ¥
    â”‚   â”œâ”€â”€ æ¯«ç§’çº§æ•°æ®æ›´æ–°
    â”‚   â”œâ”€â”€ æ–­çº¿é‡è¿æœºåˆ¶
    â”‚   â””â”€â”€ æ•°æ®å®Œæ•´æ€§ä¿è¯
    â”œâ”€â”€ æ‰¹é‡å¯¼å…¥ (Batch Import)
    â”‚   â”œâ”€â”€ CSV/Excelæ–‡ä»¶å¯¼å…¥
    â”‚   â”œâ”€â”€ APIæ‰¹é‡æ•°æ®è·å–
    â”‚   â”œâ”€â”€ å†å²æ•°æ®å›å¡«
    â”‚   â””â”€â”€ å¢é‡æ›´æ–°æœºåˆ¶
    â””â”€â”€ å®šæ—¶å¯¼å…¥ (Scheduled Import)
        â”œâ”€â”€ å®šæ—¶ä»»åŠ¡è°ƒåº¦
        â”œâ”€â”€ è‡ªåŠ¨æ•°æ®æ›´æ–°
        â”œâ”€â”€ é”™è¯¯é‡è¯•æœºåˆ¶
        â””â”€â”€ å¯¼å…¥çŠ¶æ€é€šçŸ¥
```

#### 2.3 æ™ºèƒ½å­˜å‚¨è·¯ç”±å™¨ (StorageRouter)
```python
class StorageRouter:
    """æ™ºèƒ½å­˜å‚¨è·¯ç”± - ä¼˜åŒ–æ€§èƒ½"""
    
    è·¯ç”±ç­–ç•¥:
    â”œâ”€â”€ å®æ—¶æ•°æ® â†’ SQLite
    â”‚   â”œâ”€â”€ æœ€æ–°è¡Œæƒ…æ•°æ®
    â”‚   â”œâ”€â”€ å®æ—¶äº¤æ˜“æ•°æ®
    â”‚   â””â”€â”€ ç”¨æˆ·æ“ä½œæ—¥å¿—
    â”œâ”€â”€ å†å²æ•°æ® â†’ DuckDB
    â”‚   â”œâ”€â”€ å†å²Kçº¿æ•°æ®
    â”‚   â”œâ”€â”€ è´¢åŠ¡æŠ¥è¡¨æ•°æ®
    â”‚   â”œâ”€â”€ å®è§‚ç»æµæ•°æ®
    â”‚   â””â”€â”€ æŠ€æœ¯æŒ‡æ ‡æ•°æ®
    â””â”€â”€ é…ç½®æ•°æ® â†’ SQLite
        â”œâ”€â”€ ç”¨æˆ·é…ç½®ä¿¡æ¯
        â”œâ”€â”€ æ•°æ®æºé…ç½®
        â””â”€â”€ ç³»ç»Ÿè®¾ç½®
```

---

## ğŸ¨ ç”¨æˆ·ç•Œé¢è®¾è®¡

### 1. æ•´ä½“å¸ƒå±€ (å¯¹æ ‡Bloomberg Terminal)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FactorWeave-Quant æ•°æ®å¯¼å…¥ç³»ç»Ÿ v2.0                    [æœ€å°åŒ–] [æœ€å¤§åŒ–] [å…³é—­] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶(F) æ•°æ®æº(D) å¯¼å…¥(I) ç›‘æ§(M) å·¥å…·(T) å¸®åŠ©(H)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ•°æ®æºæ ‘       â”‚           ä¸»å·¥ä½œåŒº                â”‚     ç›‘æ§é¢æ¿         â”‚
â”‚                 â”‚                                 â”‚                     â”‚
â”‚ â”œğŸ“Š è‚¡ç¥¨æ•°æ®     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ ğŸ”´ å®æ—¶çŠ¶æ€          â”‚
â”‚ â”‚ â”œğŸ‡¨ğŸ‡³ æ²ªæ·±Aè‚¡   â”‚  â”‚      æ•°æ®å¯¼å…¥å‘å¯¼            â”‚ â”‚ â”œ è¿æ¥çŠ¶æ€: æ­£å¸¸     â”‚
â”‚ â”‚ â”œğŸ‡­ğŸ‡° æ¸¯è‚¡      â”‚  â”‚                             â”‚ â”‚ â”œ å¯¼å…¥é€Ÿåº¦: 1.2K/s   â”‚
â”‚ â”‚ â””ğŸ‡ºğŸ‡¸ ç¾è‚¡      â”‚  â”‚  [1] é€‰æ‹©æ•°æ®æº              â”‚ â”‚ â”” é”™è¯¯æ•°: 0          â”‚
â”‚ â”œğŸ“ˆ å€ºåˆ¸æ•°æ®     â”‚  â”‚  [2] é…ç½®å‚æ•°                â”‚ â”‚                     â”‚
â”‚ â”œâš¡ æœŸè´§æ•°æ®     â”‚  â”‚  [3] æ•°æ®é¢„è§ˆ                â”‚ â”‚ ğŸ“Š æ€§èƒ½æŒ‡æ ‡          â”‚
â”‚ â”œğŸ’± å¤–æ±‡æ•°æ®     â”‚  â”‚  [4] å¼€å§‹å¯¼å…¥                â”‚ â”‚ â”œ CPU: 15%          â”‚
â”‚ â”œğŸ¦ åŸºé‡‘æ•°æ®     â”‚  â”‚                             â”‚ â”‚ â”œ å†…å­˜: 2.1GB       â”‚
â”‚ â””ğŸŒ å®è§‚æ•°æ®     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”” ç£ç›˜: 45%         â”‚
â”‚                 â”‚                                 â”‚                     â”‚
â”‚ ğŸ”§ é…ç½®ç®¡ç†      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ ğŸ“ æ“ä½œæ—¥å¿—          â”‚
â”‚ â”œ æ•°æ®æºé…ç½®     â”‚  â”‚      å®æ—¶æ•°æ®é¢„è§ˆ            â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”œ å¯¼å…¥ä»»åŠ¡       â”‚  â”‚                             â”‚ â”‚ â”‚15:30:01 å¼€å§‹å¯¼å…¥ â”‚ â”‚
â”‚ â”” ç³»ç»Ÿè®¾ç½®       â”‚  â”‚   è‚¡ç¥¨ä»£ç   æœ€æ–°ä»·  æ¶¨è·Œå¹…    â”‚ â”‚ â”‚15:30:02 è¿æ¥æˆåŠŸ â”‚ â”‚
â”‚                 â”‚  â”‚   000001   10.25   +2.1%   â”‚ â”‚ â”‚15:30:03 æ•°æ®æ¥æ”¶ â”‚ â”‚
â”‚ ğŸ“Š ç»Ÿè®¡ä¿¡æ¯      â”‚  â”‚   000002    8.76   -1.2%   â”‚ â”‚ â”‚...              â”‚ â”‚
â”‚ â”œ å¯¼å…¥è®°å½•: 1.2M â”‚  â”‚   ...                       â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”œ å­˜å‚¨ç©ºé—´: 15GB â”‚  â”‚                             â”‚ â”‚                     â”‚
â”‚ â”” è¿è¡Œæ—¶é—´: 2h   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŠ¶æ€æ : å°±ç»ª | DuckDBè¿æ¥æ­£å¸¸ | æœ€åæ›´æ–°: 2025-08-23 15:30:05              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. è‰²å½©æ–¹æ¡ˆ (ç°ä»£åŒ–ä¸“ä¸šé£æ ¼)

#### ä¸»é¢˜1: ä¸“ä¸šæ·±è‰²ä¸»é¢˜ (å¯¹æ ‡Bloomberg)
```css
:root {
  /* ä¸»è‰²è°ƒ - æ·±è“ä¸“ä¸šè‰² */
  --primary-bg: #1a1d29;        /* ä¸»èƒŒæ™¯è‰² */
  --secondary-bg: #252837;      /* æ¬¡è¦èƒŒæ™¯è‰² */
  --panel-bg: #2d3142;          /* é¢æ¿èƒŒæ™¯è‰² */
  
  /* å¼ºè°ƒè‰² */
  --accent-orange: #ff6b35;     /* æ©™è‰² - é‡è¦æ“ä½œ */
  --accent-blue: #4dabf7;       /* è“è‰² - ä¿¡æ¯æç¤º */
  --success-green: #28a745;     /* ç»¿è‰² - æˆåŠŸçŠ¶æ€ */
  --warning-yellow: #ffc107;    /* é»„è‰² - è­¦å‘Šä¿¡æ¯ */
  --error-red: #dc3545;         /* çº¢è‰² - é”™è¯¯çŠ¶æ€ */
  
  /* æ–‡æœ¬è‰² */
  --text-primary: #ffffff;      /* ä¸»è¦æ–‡æœ¬ */
  --text-secondary: #b8bcc8;    /* æ¬¡è¦æ–‡æœ¬ */
  --text-muted: #6c757d;        /* è¾…åŠ©æ–‡æœ¬ */
  
  /* è¾¹æ¡†å’Œåˆ†å‰²çº¿ */
  --border-color: #3d4152;      /* è¾¹æ¡†è‰² */
  --divider-color: #2d3142;     /* åˆ†å‰²çº¿è‰² */
}
```

#### ä¸»é¢˜2: ç°ä»£æµ…è‰²ä¸»é¢˜ (å¯é€‰)
```css
:root {
  --primary-bg: #ffffff;        /* ç™½è‰²èƒŒæ™¯ */
  --secondary-bg: #f8f9fa;      /* æµ…ç°èƒŒæ™¯ */
  --panel-bg: #e9ecef;          /* é¢æ¿èƒŒæ™¯ */
  --text-primary: #212529;      /* æ·±è‰²æ–‡æœ¬ */
  --text-secondary: #6c757d;    /* ç°è‰²æ–‡æœ¬ */
}
```

### 3. æ ¸å¿ƒUIç»„ä»¶è®¾è®¡

#### 3.1 æ•°æ®å¯¼å…¥å‘å¯¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å¯¼å…¥å‘å¯¼                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ­¥éª¤: â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—‹â”€â”€â”€â”€â”€â—‹                                   â”‚
â”‚      é€‰æ‹©   é…ç½®   é¢„è§ˆ   å¯¼å…¥                               â”‚
â”‚                                                             â”‚
â”‚ ğŸ“Š é€‰æ‹©æ•°æ®æºç±»å‹                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚    è‚¡ç¥¨     â”‚    å€ºåˆ¸     â”‚    æœŸè´§     â”‚    å¤–æ±‡     â”‚   â”‚
â”‚ â”‚   ğŸ“ˆ Aè‚¡    â”‚   ğŸ“Š å›½å€º   â”‚   âš¡ å•†å“   â”‚   ğŸ’± ä¸»è¦   â”‚   â”‚
â”‚ â”‚     æ¸¯è‚¡    â”‚     ä¼ä¸šå€º  â”‚     é‡‘è    â”‚     è´§å¸å¯¹  â”‚   â”‚
â”‚ â”‚     ç¾è‚¡    â”‚     å¯è½¬å€º  â”‚     æœŸè´§    â”‚     æ•°å­—å¸  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚ ğŸ”§ æ•°æ®æºé…ç½®                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ•°æ®æä¾›å•†: [Windä¸‡å¾— â–¼]                                 â”‚ â”‚
â”‚ â”‚ APIå¯†é’¥:   [************************]                   â”‚ â”‚
â”‚ â”‚ æ›´æ–°é¢‘ç‡:   [å®æ—¶ â–¼] [1ç§’ â–¼]                            â”‚ â”‚
â”‚ â”‚ æ•°æ®èŒƒå›´:   ä» [2020-01-01] åˆ° [2025-08-23]             â”‚ â”‚
â”‚ â”‚ è‚¡ç¥¨åˆ—è¡¨:   [å…¨éƒ¨Aè‚¡ â–¼] æˆ– [è‡ªå®šä¹‰åˆ—è¡¨...]               â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚                              [ä¸Šä¸€æ­¥] [æµ‹è¯•è¿æ¥] [ä¸‹ä¸€æ­¥]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2 å®æ—¶ç›‘æ§ä»ªè¡¨æ¿
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®æ—¶ç›‘æ§ä»ªè¡¨æ¿                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ ç³»ç»ŸçŠ¶æ€                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ æ•°æ®æºè¿æ¥   â”‚  å¯¼å…¥é€Ÿåº¦   â”‚   é”™è¯¯ç‡    â”‚  å­˜å‚¨ä½¿ç”¨   â”‚   â”‚
â”‚ â”‚    ğŸŸ¢ 5/5   â”‚  ğŸ“Š 1.2K/s  â”‚   âš ï¸ 0.1%  â”‚  ğŸ“ˆ 45%    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚ ğŸ“Š æ€§èƒ½å›¾è¡¨                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å¯¼å…¥é€Ÿåº¦ (æ¡/ç§’)                                         â”‚ â”‚
â”‚ â”‚ 1500 â”¤                                            â•­â”€â•®   â”‚ â”‚
â”‚ â”‚ 1200 â”¤                                        â•­â”€â•® â”‚ â”‚   â”‚ â”‚
â”‚ â”‚  900 â”¤                                    â•­â”€â•® â”‚ â”‚ â”‚ â”‚   â”‚ â”‚
â”‚ â”‚  600 â”¤                                â•­â”€â•® â”‚ â”‚ â”‚ â”‚ â”‚ â”‚   â”‚ â”‚
â”‚ â”‚  300 â”¤                            â•­â”€â•® â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚   â”‚ â”‚
â”‚ â”‚    0 â””â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”˜   â”‚ â”‚
â”‚ â”‚       15:25    15:27    15:29    15:31    15:33        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚ ğŸ“ å®æ—¶æ—¥å¿—æµ                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [15:33:45] INFO  - è‚¡ç¥¨æ•°æ®å¯¼å…¥æˆåŠŸ: 000001 å¹³å®‰é“¶è¡Œ     â”‚ â”‚
â”‚ â”‚ [15:33:44] INFO  - å€ºåˆ¸æ•°æ®å¯¼å…¥æˆåŠŸ: 019547 å›½å€º1954    â”‚ â”‚
â”‚ â”‚ [15:33:43] WARN  - æ•°æ®å»¶è¿Ÿ: 000002 ä¸‡ç§‘A å»¶è¿Ÿ2ç§’       â”‚ â”‚
â”‚ â”‚ [15:33:42] INFO  - DuckDBå­˜å‚¨: æ–°å¢1000æ¡Kçº¿æ•°æ®        â”‚ â”‚
â”‚ â”‚ [15:33:41] INFO  - ç¼“å­˜æ›´æ–°: å®æ—¶è¡Œæƒ…ç¼“å­˜åˆ·æ–°å®Œæˆ       â”‚ â”‚
â”‚ â”‚ â–¼ æ»šåŠ¨æŸ¥çœ‹æ›´å¤šæ—¥å¿—...                                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. æ ¸å¿ƒæŠ€æœ¯æ ˆ

```python
æŠ€æœ¯æ¶æ„:
â”œâ”€â”€ å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ PyQt5/PyQt6 - ä¸»ç•Œé¢æ¡†æ¶
â”‚   â”œâ”€â”€ QCustomPlot - é«˜æ€§èƒ½å›¾è¡¨
â”‚   â”œâ”€â”€ QWebEngine - Webç»„ä»¶é›†æˆ
â”‚   â””â”€â”€ è‡ªå®šä¹‰Widget - ä¸“ä¸šUIç»„ä»¶
â”œâ”€â”€ åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ Python 3.9+ - ä¸»è¦å¼€å‘è¯­è¨€
â”‚   â”œâ”€â”€ DuckDB - åˆ†æå‹æ•°æ®åº“
â”‚   â”œâ”€â”€ SQLite - äº‹åŠ¡å‹æ•°æ®åº“
â”‚   â””â”€â”€ Redis - ç¼“å­˜ç³»ç»Ÿ(å¯é€‰)
â”œâ”€â”€ æ•°æ®å¤„ç†
â”‚   â”œâ”€â”€ Pandas - æ•°æ®å¤„ç†
â”‚   â”œâ”€â”€ NumPy - æ•°å€¼è®¡ç®—
â”‚   â”œâ”€â”€ TET Pipeline - æ•°æ®è½¬æ¢
â”‚   â””â”€â”€ Asyncio - å¼‚æ­¥å¤„ç†
â””â”€â”€ ç½‘ç»œé€šä¿¡
    â”œâ”€â”€ WebSocket - å®æ—¶æ•°æ®æµ
    â”œâ”€â”€ REST API - æ•°æ®æ¥å£
    â”œâ”€â”€ gRPC - é«˜æ€§èƒ½RPC(å¯é€‰)
    â””â”€â”€ HTTP/2 - ç°ä»£HTTPåè®®
```

### 2. æ•°æ®æºé€‚é…å™¨è®¾è®¡

```python
class DataSourceAdapter:
    """ç»Ÿä¸€æ•°æ®æºé€‚é…å™¨æ¥å£"""
    
    def __init__(self, source_config: Dict[str, Any]):
        self.config = source_config
        self.connection = None
        self.is_connected = False
    
    async def connect(self) -> bool:
        """è¿æ¥æ•°æ®æº"""
        pass
    
    async def disconnect(self) -> None:
        """æ–­å¼€è¿æ¥"""
        pass
    
    async def fetch_realtime_data(self, symbols: List[str]) -> pd.DataFrame:
        """è·å–å®æ—¶æ•°æ®"""
        pass
    
    async def fetch_historical_data(self, symbol: str, 
                                  start_date: str, 
                                  end_date: str) -> pd.DataFrame:
        """è·å–å†å²æ•°æ®"""
        pass
    
    def get_supported_symbols(self) -> List[str]:
        """è·å–æ”¯æŒçš„è‚¡ç¥¨ä»£ç åˆ—è¡¨"""
        pass

# å…·ä½“å®ç°ç¤ºä¾‹
class WindDataAdapter(DataSourceAdapter):
    """Windä¸‡å¾—æ•°æ®é€‚é…å™¨"""
    
    async def connect(self) -> bool:
        try:
            import WindPy as w
            w.start()
            self.connection = w
            self.is_connected = True
            return True
        except Exception as e:
            logger.error(f"Windè¿æ¥å¤±è´¥: {e}")
            return False
    
    async def fetch_realtime_data(self, symbols: List[str]) -> pd.DataFrame:
        if not self.is_connected:
            await self.connect()
        
        # Wind APIè°ƒç”¨
        data = self.connection.wsq(symbols, "rt_last,rt_pct_chg")
        return self._convert_to_standard_format(data)

class TushareDataAdapter(DataSourceAdapter):
    """Tushareæ•°æ®é€‚é…å™¨"""
    
    async def fetch_historical_data(self, symbol: str, 
                                  start_date: str, 
                                  end_date: str) -> pd.DataFrame:
        import tushare as ts
        pro = ts.pro_api(self.config['token'])
        
        df = pro.daily(ts_code=symbol, 
                      start_date=start_date, 
                      end_date=end_date)
        return self._convert_to_standard_format(df)
```

### 3. æ•°æ®å¯¼å…¥å¼•æ“å®ç°

```python
class DataImportEngine:
    """é«˜æ€§èƒ½æ•°æ®å¯¼å…¥å¼•æ“"""
    
    def __init__(self):
        self.adapters: Dict[str, DataSourceAdapter] = {}
        self.storage_router = StorageRouter()
        self.quality_monitor = DataQualityMonitor()
        self.import_tasks: Dict[str, ImportTask] = {}
    
    async def start_realtime_import(self, config: ImportConfig) -> str:
        """å¯åŠ¨å®æ—¶æ•°æ®å¯¼å…¥"""
        task_id = self._generate_task_id()
        
        # åˆ›å»ºå¯¼å…¥ä»»åŠ¡
        task = ImportTask(
            task_id=task_id,
            config=config,
            mode=ImportMode.REALTIME
        )
        
        # å¯åŠ¨å¼‚æ­¥å¯¼å…¥
        asyncio.create_task(self._realtime_import_worker(task))
        
        self.import_tasks[task_id] = task
        return task_id
    
    async def _realtime_import_worker(self, task: ImportTask):
        """å®æ—¶å¯¼å…¥å·¥ä½œçº¿ç¨‹"""
        adapter = self.adapters[task.config.data_source]
        
        while task.is_running:
            try:
                # è·å–å®æ—¶æ•°æ®
                data = await adapter.fetch_realtime_data(task.config.symbols)
                
                # æ•°æ®è´¨é‡æ£€æŸ¥
                quality_score = self.quality_monitor.check_quality(data)
                if quality_score < task.config.min_quality_score:
                    logger.warning(f"æ•°æ®è´¨é‡ä¸è¾¾æ ‡: {quality_score}")
                    continue
                
                # æ™ºèƒ½å­˜å‚¨è·¯ç”±
                await self.storage_router.store_data(data, task.config)
                
                # æ›´æ–°ä»»åŠ¡ç»Ÿè®¡
                task.update_stats(len(data))
                
                # ç­‰å¾…ä¸‹æ¬¡æ›´æ–°
                await asyncio.sleep(task.config.update_interval)
                
            except Exception as e:
                logger.error(f"å®æ—¶å¯¼å…¥é”™è¯¯: {e}")
                task.error_count += 1
                
                # é”™è¯¯é‡è¯•æœºåˆ¶
                if task.error_count > task.config.max_errors:
                    task.stop()
                    break
                
                await asyncio.sleep(task.config.retry_interval)
    
    async def batch_import(self, config: ImportConfig) -> ImportResult:
        """æ‰¹é‡æ•°æ®å¯¼å…¥"""
        adapter = self.adapters[config.data_source]
        results = []
        
        for symbol in config.symbols:
            try:
                # è·å–å†å²æ•°æ®
                data = await adapter.fetch_historical_data(
                    symbol, config.start_date, config.end_date
                )
                
                # æ•°æ®é¢„å¤„ç†
                processed_data = await self._preprocess_data(data, config)
                
                # å­˜å‚¨æ•°æ®
                await self.storage_router.store_data(processed_data, config)
                
                results.append(ImportResult(
                    symbol=symbol,
                    success=True,
                    record_count=len(processed_data)
                ))
                
            except Exception as e:
                logger.error(f"æ‰¹é‡å¯¼å…¥å¤±è´¥ {symbol}: {e}")
                results.append(ImportResult(
                    symbol=symbol,
                    success=False,
                    error=str(e)
                ))
        
        return ImportResult.aggregate(results)
```

---

## ğŸ“Š æ•°æ®å­˜å‚¨ä¼˜åŒ–æ–¹æ¡ˆ

### 1. åˆ†å±‚å­˜å‚¨ç­–ç•¥

```python
class StorageRouter:
    """æ™ºèƒ½å­˜å‚¨è·¯ç”±å™¨"""
    
    def __init__(self):
        self.sqlite_manager = SQLiteManager()
        self.duckdb_manager = DuckDBManager()
        self.cache_manager = CacheManager()
    
    async def store_data(self, data: pd.DataFrame, config: ImportConfig):
        """æ™ºèƒ½å­˜å‚¨è·¯ç”±"""
        
        # è·¯ç”±å†³ç­–
        storage_target = self._decide_storage_target(data, config)
        
        if storage_target == StorageTarget.CACHE:
            # çƒ­æ•°æ®å­˜å…¥ç¼“å­˜
            await self.cache_manager.set(
                key=self._generate_cache_key(data, config),
                value=data,
                ttl=config.cache_ttl
            )
            
        elif storage_target == StorageTarget.SQLITE:
            # å®æ—¶æ•°æ®å­˜å…¥SQLite
            await self.sqlite_manager.insert_dataframe(
                table_name=self._generate_table_name(config),
                data=data,
                upsert=True
            )
            
        elif storage_target == StorageTarget.DUCKDB:
            # å†å²æ•°æ®å­˜å…¥DuckDB
            await self.duckdb_manager.insert_dataframe(
                database_path=config.duckdb_path,
                table_name=self._generate_table_name(config),
                data=data,
                partition_by=config.partition_strategy
            )
    
    def _decide_storage_target(self, data: pd.DataFrame, 
                              config: ImportConfig) -> StorageTarget:
        """å­˜å‚¨ç›®æ ‡å†³ç­–ç®—æ³•"""
        
        # å®æ—¶æ•°æ® -> ç¼“å­˜ + SQLite
        if config.mode == ImportMode.REALTIME:
            return StorageTarget.CACHE
        
        # å¤§æ‰¹é‡å†å²æ•°æ® -> DuckDB
        if len(data) > config.large_data_threshold:
            return StorageTarget.DUCKDB
        
        # å°æ‰¹é‡æ•°æ® -> SQLite
        return StorageTarget.SQLITE
```

### 2. DuckDBä¼˜åŒ–é…ç½®

```python
class DuckDBOptimizer:
    """DuckDBæ€§èƒ½ä¼˜åŒ–å™¨"""
    
    def __init__(self):
        self.config = {
            'memory_limit': '8GB',
            'threads': os.cpu_count(),
            'max_memory': '80%',
            'enable_progress_bar': True,
            'enable_profiling': True
        }
    
    def create_optimized_tables(self, conn):
        """åˆ›å»ºä¼˜åŒ–çš„è¡¨ç»“æ„"""
        
        # Kçº¿æ•°æ®è¡¨ - æŒ‰æ—¥æœŸåˆ†åŒº
        conn.execute("""
            CREATE TABLE IF NOT EXISTS kline_data (
                symbol VARCHAR NOT NULL,
                trade_date DATE NOT NULL,
                open_price DECIMAL(10,3),
                high_price DECIMAL(10,3),
                low_price DECIMAL(10,3),
                close_price DECIMAL(10,3),
                volume BIGINT,
                amount DECIMAL(15,2),
                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            ) PARTITION BY RANGE (trade_date);
        """)
        
        # è´¢åŠ¡æ•°æ®è¡¨ - æŒ‰æŠ¥å‘ŠæœŸåˆ†åŒº
        conn.execute("""
            CREATE TABLE IF NOT EXISTS financial_data (
                symbol VARCHAR NOT NULL,
                report_date DATE NOT NULL,
                report_type VARCHAR NOT NULL,
                total_revenue DECIMAL(15,2),
                net_profit DECIMAL(15,2),
                total_assets DECIMAL(15,2),
                total_liabilities DECIMAL(15,2),
                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            ) PARTITION BY RANGE (report_date);
        """)
        
        # åˆ›å»ºä¼˜åŒ–ç´¢å¼•
        self._create_optimized_indexes(conn)
    
    def _create_optimized_indexes(self, conn):
        """åˆ›å»ºä¼˜åŒ–ç´¢å¼•"""
        
        # å¤åˆç´¢å¼• - æå‡æŸ¥è¯¢æ€§èƒ½
        indexes = [
            "CREATE INDEX IF NOT EXISTS idx_kline_symbol_date ON kline_data(symbol, trade_date)",
            "CREATE INDEX IF NOT EXISTS idx_financial_symbol_date ON financial_data(symbol, report_date)",
            "CREATE INDEX IF NOT EXISTS idx_kline_date ON kline_data(trade_date)",
            "CREATE INDEX IF NOT EXISTS idx_financial_type ON financial_data(report_type)"
        ]
        
        for index_sql in indexes:
            conn.execute(index_sql)
```

---

## ğŸ”§ å®æ–½è®¡åˆ’

### é˜¶æ®µ1: æ ¸å¿ƒæ¡†æ¶æ­å»º (2-3å‘¨)

```python
ä»»åŠ¡åˆ—è¡¨:
â”œâ”€â”€ 1.1 é¡¹ç›®æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ åˆ›å»ºé¡¹ç›®ç»“æ„
â”‚   â”œâ”€â”€ è®¾è®¡æ ¸å¿ƒæ¥å£
â”‚   â””â”€â”€ é…ç½®å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ 1.2 åŸºç¡€UIæ¡†æ¶
â”‚   â”œâ”€â”€ ä¸»çª—å£å¸ƒå±€è®¾è®¡
â”‚   â”œâ”€â”€ æ ¸å¿ƒUIç»„ä»¶å¼€å‘
â”‚   â””â”€â”€ ä¸»é¢˜ç³»ç»Ÿå®ç°
â”œâ”€â”€ 1.3 æ•°æ®æºé€‚é…å™¨
â”‚   â”œâ”€â”€ ç»Ÿä¸€æ¥å£è®¾è®¡
â”‚   â”œâ”€â”€ Windä¸‡å¾—é€‚é…å™¨
â”‚   â””â”€â”€ Tushareé€‚é…å™¨
â””â”€â”€ 1.4 å­˜å‚¨è·¯ç”±å™¨
    â”œâ”€â”€ SQLiteé›†æˆ
    â”œâ”€â”€ DuckDBé›†æˆ
    â””â”€â”€ æ™ºèƒ½è·¯ç”±é€»è¾‘
```

### é˜¶æ®µ2: æ•°æ®å¯¼å…¥å¼•æ“ (2-3å‘¨)

```python
ä»»åŠ¡åˆ—è¡¨:
â”œâ”€â”€ 2.1 å¯¼å…¥å¼•æ“æ ¸å¿ƒ
â”‚   â”œâ”€â”€ å¼‚æ­¥å¯¼å…¥æ¡†æ¶
â”‚   â”œâ”€â”€ ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
â”‚   â””â”€â”€ é”™è¯¯å¤„ç†æœºåˆ¶
â”œâ”€â”€ 2.2 å®æ—¶æ•°æ®æµ
â”‚   â”œâ”€â”€ WebSocketè¿æ¥
â”‚   â”œâ”€â”€ æ•°æ®æµå¤„ç†
â”‚   â””â”€â”€ æ–­çº¿é‡è¿æœºåˆ¶
â”œâ”€â”€ 2.3 æ‰¹é‡å¯¼å…¥åŠŸèƒ½
â”‚   â”œâ”€â”€ æ–‡ä»¶å¯¼å…¥æ”¯æŒ
â”‚   â”œâ”€â”€ APIæ‰¹é‡è·å–
â”‚   â””â”€â”€ å¢é‡æ›´æ–°æœºåˆ¶
â””â”€â”€ 2.4 æ•°æ®è´¨é‡ç›‘æ§
    â”œâ”€â”€ è´¨é‡æ£€æŸ¥è§„åˆ™
    â”œâ”€â”€ å¼‚å¸¸æ•°æ®å¤„ç†
    â””â”€â”€ è´¨é‡æŠ¥å‘Šç”Ÿæˆ
```

### é˜¶æ®µ3: ä¸“ä¸šUIåŠŸèƒ½ (3-4å‘¨)

```python
ä»»åŠ¡åˆ—è¡¨:
â”œâ”€â”€ 3.1 æ•°æ®å¯¼å…¥å‘å¯¼
â”‚   â”œâ”€â”€ åˆ†æ­¥éª¤å‘å¯¼ç•Œé¢
â”‚   â”œâ”€â”€ æ•°æ®æºé…ç½®é¢æ¿
â”‚   â””â”€â”€ æ•°æ®é¢„è§ˆåŠŸèƒ½
â”œâ”€â”€ 3.2 å®æ—¶ç›‘æ§ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ ç³»ç»ŸçŠ¶æ€ç›‘æ§
â”‚   â”œâ”€â”€ æ€§èƒ½å›¾è¡¨æ˜¾ç¤º
â”‚   â””â”€â”€ å®æ—¶æ—¥å¿—æµ
â”œâ”€â”€ 3.3 æ•°æ®ç®¡ç†ç•Œé¢
â”‚   â”œâ”€â”€ æ•°æ®æºç®¡ç†æ ‘
â”‚   â”œâ”€â”€ å¯¼å…¥ä»»åŠ¡ç®¡ç†
â”‚   â””â”€â”€ å­˜å‚¨ç©ºé—´ç›‘æ§
â””â”€â”€ 3.4 å¤šå±æ”¯æŒ
    â”œâ”€â”€ å¤šçª—å£å¸ƒå±€
    â”œâ”€â”€ çª—å£çŠ¶æ€ä¿å­˜
    â””â”€â”€ è·¨å±æ‹–æ‹½æ”¯æŒ
```

### é˜¶æ®µ4: é«˜çº§åŠŸèƒ½ (2-3å‘¨)

```python
ä»»åŠ¡åˆ—è¡¨:
â”œâ”€â”€ 4.1 æ€§èƒ½ä¼˜åŒ–
â”‚   â”œâ”€â”€ å¤§æ•°æ®å¤„ç†ä¼˜åŒ–
â”‚   â”œâ”€â”€ å†…å­˜ä½¿ç”¨ä¼˜åŒ–
â”‚   â””â”€â”€ å¹¶å‘æ€§èƒ½è°ƒä¼˜
â”œâ”€â”€ 4.2 ç”¨æˆ·ä½“éªŒä¼˜åŒ–
â”‚   â”œâ”€â”€ æ“ä½œæµç¨‹ä¼˜åŒ–
â”‚   â”œâ”€â”€ å¿«æ·é”®æ”¯æŒ
â”‚   â””â”€â”€ ä¸ªæ€§åŒ–è®¾ç½®
â”œâ”€â”€ 4.3 æ•°æ®å¯¼å‡ºåŠŸèƒ½
â”‚   â”œâ”€â”€ å¤šæ ¼å¼å¯¼å‡º
â”‚   â”œâ”€â”€ è‡ªå®šä¹‰å¯¼å‡º
â”‚   â””â”€â”€ å®šæ—¶å¯¼å‡ºä»»åŠ¡
â””â”€â”€ 4.4 APIæ¥å£
    â”œâ”€â”€ REST APIè®¾è®¡
    â”œâ”€â”€ WebSocket API
    â””â”€â”€ APIæ–‡æ¡£ç”Ÿæˆ
```

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ç‰¹æ€§ | Bloomberg Terminal | Windä¸‡å¾— | FactorWeave-Quant | ä¼˜åŠ¿ |
|---------|-------------------|----------|------------------|------|
| å¤šå±æ”¯æŒ | âœ… 2-6å± | âœ… æ”¯æŒ | âœ… æ— é™åˆ¶ | æ›´çµæ´»çš„å¸ƒå±€ |
| å®æ—¶æ•°æ® | âœ… æ¯«ç§’çº§ | âœ… ç§’çº§ | âœ… æ¯«ç§’çº§ | å¯¹æ ‡Bloomberg |
| æ•°æ®è¦†ç›– | âœ… å…¨çƒå¸‚åœº | âœ… å…¨çƒ40+äº¤æ˜“æ‰€ | âœ… å¯æ‰©å±• | æ’ä»¶åŒ–æ‰©å±• |
| ç”¨æˆ·ç•Œé¢ | âŒ å¤æ‚éš¾ç”¨ | âš ï¸ ä¼ ç»Ÿç•Œé¢ | âœ… ç°ä»£åŒ–è®¾è®¡ | æ›´å¥½çš„UX |
| ä¸ªæ€§åŒ– | âš ï¸ æœ‰é™ | âš ï¸ æœ‰é™ | âœ… é«˜åº¦å®šåˆ¶ | å®Œå…¨å¯å®šåˆ¶ |
| æˆæœ¬ | âŒ $24K/å¹´ | âŒ é«˜æ˜‚ | âœ… å¼€æºå…è´¹ | æˆæœ¬ä¼˜åŠ¿ |

### æ€§èƒ½æŒ‡æ ‡

```
é¢„æœŸæ€§èƒ½æŒ‡æ ‡:
â”œâ”€â”€ æ•°æ®å¯¼å…¥æ€§èƒ½
â”‚   â”œâ”€â”€ å®æ—¶æ•°æ®: < 100mså»¶è¿Ÿ
â”‚   â”œâ”€â”€ æ‰¹é‡å¯¼å…¥: > 10Kæ¡/ç§’
â”‚   â””â”€â”€ å¹¶å‘è¿æ¥: > 100ä¸ªæ•°æ®æº
â”œâ”€â”€ å­˜å‚¨æ€§èƒ½
â”‚   â”œâ”€â”€ DuckDBæŸ¥è¯¢: < 1ç§’ (ç™¾ä¸‡çº§æ•°æ®)
â”‚   â”œâ”€â”€ SQLiteäº‹åŠ¡: < 10ms
â”‚   â””â”€â”€ ç¼“å­˜å‘½ä¸­ç‡: > 90%
â”œâ”€â”€ ç”¨æˆ·ä½“éªŒ
â”‚   â”œâ”€â”€ ç•Œé¢å“åº”: < 16ms (60fps)
â”‚   â”œâ”€â”€ å¯åŠ¨æ—¶é—´: < 5ç§’
â”‚   â””â”€â”€ å†…å­˜å ç”¨: < 2GB
â””â”€â”€ å¯é æ€§
    â”œâ”€â”€ ç³»ç»Ÿå¯ç”¨æ€§: > 99.9%
    â”œâ”€â”€ æ•°æ®å‡†ç¡®æ€§: > 99.99%
    â””â”€â”€ é”™è¯¯æ¢å¤: < 30ç§’
```

---

## ğŸ¯ æ€»ç»“

æœ¬æ–¹æ¡ˆè®¾è®¡äº†ä¸€ä¸ªå¯¹æ ‡Bloomberg Terminalå’ŒWindä¸‡å¾—çš„ä¸“ä¸šçº§æ•°æ®å¯¼å…¥DuckDBç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š

### âœ… ä¸“ä¸šæ€§
- **åŠŸèƒ½æ·±åº¦**: å¯¹æ ‡Bloomberg Terminalçš„ä¸“ä¸šåŠŸèƒ½
- **æ•°æ®è¦†ç›–**: å‚è€ƒWindä¸‡å¾—çš„å…¨å¸‚åœºæ•°æ®æ”¯æŒ
- **æ€§èƒ½æŒ‡æ ‡**: æ¯«ç§’çº§å®æ—¶æ•°æ®ï¼Œç™¾ä¸‡çº§æ•°æ®ç§’çº§æŸ¥è¯¢

### âœ… ç°ä»£åŒ–
- **ç”¨æˆ·ç•Œé¢**: ç°ä»£åŒ–è®¾è®¡è¯­è¨€ï¼Œå‘Šåˆ«å¤æ‚éš¾ç”¨
- **æŠ€æœ¯æ¶æ„**: åŸºäºDuckDBçš„ç°ä»£æ•°æ®æ ˆ
- **ç”¨æˆ·ä½“éªŒ**: ç›´è§‚çš„æ“ä½œæµç¨‹ï¼Œä¸ªæ€§åŒ–å®šåˆ¶

### âœ… å¯æ‰©å±•æ€§
- **æ’ä»¶åŒ–æ¶æ„**: æ”¯æŒä»»æ„æ•°æ®æºæ‰©å±•
- **æ¨¡å—åŒ–è®¾è®¡**: æ ¸å¿ƒåŠŸèƒ½ç‹¬ç«‹ï¼Œæ˜“äºç»´æŠ¤
- **å¼€æ”¾æ¥å£**: æä¾›APIæ¥å£ï¼Œæ”¯æŒäºŒæ¬¡å¼€å‘

### âœ… æˆæœ¬ä¼˜åŠ¿
- **å¼€æºå…è´¹**: ç›¸æ¯”Bloomberg $24K/å¹´çš„å·¨å¤§æˆæœ¬ä¼˜åŠ¿
- **è‡ªä¸»å¯æ§**: å®Œå…¨æŒæ¡æ ¸å¿ƒæŠ€æœ¯
- **å®šåˆ¶åŒ–**: æ ¹æ®å…·ä½“éœ€æ±‚çµæ´»è°ƒæ•´

è¿™ä¸ªæ–¹æ¡ˆå°†ä¸ºFactorWeave-Quantç³»ç»Ÿæä¾›ä¸“ä¸šçº§çš„æ•°æ®å¯¼å…¥èƒ½åŠ›ï¼ŒçœŸæ­£å®ç°å¯¹æ ‡å›½é™…é¡¶çº§é‡‘èè½¯ä»¶çš„ç›®æ ‡ã€‚ 