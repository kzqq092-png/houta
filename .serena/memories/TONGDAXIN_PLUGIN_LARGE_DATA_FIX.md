## 通达信插件上万条数据问题修复完成

### 问题描述
用户报告：K线专用数据下载UI中指定通达信数据源，批量选择时获取到了上万条资产数据，但正常上证和深沪并没有这么多有效数据。

### 根本原因分析
1. **通达信API返回所有证券类型**：不只是A股，还包括B股、基金、债券、权证等
2. **代码问题**：
   - 重复的`_is_a_stock`方法定义（第1266行和第1299行）
   - 数据截断限制（min(count, 10000)）
   - 缺少去重逻辑
   - 错误处理不够完善

### 执行的修复
1. **删除重复方法定义**：移除第一个`_is_a_stock`方法，保留精确版本
2. **移除数据截断**：删除`min(count, 10000)`限制，支持获取所有数据
3. **改进错误处理**：为SH和SZ市场分别添加try-except，实现市场级别失败隔离
4. **添加去重逻辑**：使用`drop_duplicates(subset=['code'], keep='first')`
5. **增强日志记录**：添加详细统计信息和样本数据收集

### A股过滤规则
- **上海A股**：600xxx(主板), 601xxx(主板), 603xxx(主板), 605xxx(主板), 688xxx(科创板)
- **深圳A股**：000xxx(主板), 002xxx(中小板), 003xxx(主板), 300xxx(创业板)

### 预期结果
- 数据量应匹配官方统计：约5,123只A股（上证2,272 + 深证2,851）
- 不应超过6,000只（考虑增长空间）
- 无重复股票代码
- 只包含A股，排除B股、基金、债券等

### 修复文件
- `plugins/data_sources/stock/tongdaxin_plugin.py`：主要修复文件
- `get_stock_list()`方法：第1158-1253行
- `_is_a_stock()`方法：第1255-1286行（删除重复定义）

### 验证方法
运行修复后的插件，检查：
1. 总记录数是否在合理范围内（~5,123）
2. 是否只包含A股代码
3. 是否有重复代码
4. 与官方统计数据对比